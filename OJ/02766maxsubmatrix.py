exec('from functools import reduce;from itertools import product;n,matrix=int(input()),[]\nwhile 1:\n\ttry:matrix.extend(list(map(int,input().split())))\n\texcept:break\nfor i,j in product(range(n),range(1,n)):matrix[n*i+j]+=matrix[n*i+j-1]\nprint(max(reduce(lambda x,y:(max(x[0]+y,y),max(x[1],max(x[0]+y,y))),[matrix[k*n+j]-(matrix[k*n+i-1]if i else 0)for k in range(n)],(0,0))[1]for i in range(n)for j in range(i,n)))')
