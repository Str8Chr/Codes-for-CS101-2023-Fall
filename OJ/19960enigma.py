dic,rotors,reflector={chr(i+97):i for i in range(6)},[],[0]*7;exec(3*'inc,out=[0]*7,[0]*7\nfor j in range(6):i,o=map(int,input().split());inc[i],out[o]=o,i\nrotors.append([inc,out])\n');exec(3*'i,j=map(int,input().split());reflector[i],reflector[j]=j,i\n');message=input();print(''.join([chr((rotors[0][1][((rotors[1][1][((rotors[2][1][((reflector[(rotors[2][0][((rotors[1][0][((rotors[0][0][(dic[message[rotor]]-rotor%6)%6+1]+rotor%6-1)-(rotor//6)%6)%6+1]+(rotor//6)%6-1)-(rotor//36)%6)%6+1]+(rotor//36)%6-1)%6+1]-1)-(rotor//36)%6)%6+1]+(rotor//36)%6-1)-(rotor//6)%6)%6+1]+(rotor//6)%6-1)-rotor%6)%6+1]+rotor%6-1)%6+97)for rotor in range(len(message))]))
